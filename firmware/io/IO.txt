I/O procedure:
    wait until IORQ is down;
    pull WAIT down;
    if WR is down:
        read A;
        read DATA;
        case A = 0:
            write DATA to serial;
        case A = 1:
            write DATA to buffer;
        case A = 2:
            execute command;
    else (if WR is up):
        read A;
        case A = 0:
            put last serial input in DATA;
        case A = 1:
            put next buffer byte in DATA;
        case A = 2:
            put status byte in DATA;
    pull WAIT up;
    wait until IORQ is up;